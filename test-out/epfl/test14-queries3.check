nVars=1000
nVars=2000
/*****************************************
  Emitting Generated Code                  
*******************************************/
import scala.lms.epfl.test14.Schema
class staged$0 extends ((Unit)=>(Unit)) {
def apply(x0:Unit): Unit = {
val x2469 = println("expertise(\"abstract\"):")
val x719 = Schema.org.departments.flatMap { x651 => 
val x711 = Schema.org.employees.flatMap { x682 => 
val x653 = x651.dpt
val x683 = x682.dpt
val x684 = x653 == x683
val x704 = Schema.org.tasks.flatMap { x695 => 
val x686 = x682.emp
val x696 = x695.emp
val x697 = x686 == x696
val x698 = x695.tsk
val x699 = x698 == "abstract"
val x700 = x697 && x699
val x703 = if (x700) {
val x580 = new Schema.Record { val ignore = () }
val x607 = List(x580)
x607
} else {
val x19 = List()
x19
}
x703
}
val x705 = x704.isEmpty
val x707 = x684 && x705
val x710 = if (x707) {
val x580 = new Schema.Record { val ignore = () }
val x607 = List(x580)
x607
} else {
val x19 = List()
x19
}
x710
}
val x712 = x711.isEmpty
val x718 = if (x712) {
val x653 = x651.dpt
val x716 = new Schema.Record { val dpt = x653 }
val x717 = List(x716)
x717
} else {
val x19 = List()
x19
}
x718
}
val x2470 = println(x719)
x2470
}
}
/*****************************************
  End of Generated Code                  
*******************************************/

warning: there were 9 feature warnings; re-run with -feature for details
one warning found
compilation: ok
expertise("abstract"):
List({dpt:Quality}, {dpt:Research})
